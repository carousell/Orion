# log
`import "github.com/carousell/Orion/utils/log"`

* [Overview](#pkg-overview)
* [Imported Packages](#pkg-imports)
* [Index](#pkg-index)

## <a name="pkg-overview">Overview</a>
Package log provides a minimal interface for structured logging in services.
Orion and orion utils use this log package for all logs.

### How To Use
The simplest way to use this package is by calling static log functions to report particular level (error/warning/info/debug)

    log.Error(...)
    log.Warn(...)
    log.Info(...)
    log.Debug(...)

You can also initialize a new logger by calling 'log.NewLogger' and passing a loggers.BaseLogger implementation (loggers package provides a number of pre-built implementations)

    logger := log.NewLogger(gokit.NewLogger())
    logger.Info(ctx, "key", "value")

Note:

    Preferred logging output is in either logfmt or JSON format, so to facilitate these log function arguments should be in pairs of key-value

### Contextual Logs
log package uses context.Context to pass additional information to logs, you can use 'loggers.AddToLogContext' function to add additional information to logs. For example in access log from Orion service

    {"@timestamp":"2018-07-30T09:58:18.262948679Z","caller":"http/http.go:66","error":null,"grpcMethod":"/AuthSvc.AuthService/Authenticate","level":"info","method":"POST","path":"/2.0/authenticate/","took":"1.356812ms","trace":"15592e1b-93df-11e8-bdfd-0242ac110002","transport":"http"}

we pass 'method', 'path', 'grpcMethod' and 'transport' from context, this information gets automatically added to all log calls called inside the service and makes debugging services much easier.
Orion also generates a 'trace' ID per request, this can be used to trace an entire request path in logs.

## <a name="pkg-imports">Imported Packages</a>

- [github.com/carousell/Orion/utils/log/loggers](./loggers)
- [github.com/carousell/Orion/utils/log/loggers/gokit](./loggers/gokit)

## <a name="pkg-index">Index</a>
* [func Debug(ctx context.Context, args ...interface{})](#Debug)
* [func Error(ctx context.Context, args ...interface{})](#Error)
* [func GetLevel() loggers.Level](#GetLevel)
* [func Info(ctx context.Context, args ...interface{})](#Info)
* [func SetLevel(level loggers.Level)](#SetLevel)
* [func SetLogger(l Logger)](#SetLogger)
* [func Warn(ctx context.Context, args ...interface{})](#Warn)
* [type Logger](#Logger)
  * [func GetLogger() Logger](#GetLogger)
  * [func NewLogger(log loggers.BaseLogger) Logger](#NewLogger)

#### <a name="pkg-files">Package files</a>
[documentation.go](./documentation.go) [log.go](./log.go) [types.go](./types.go) [utils.go](./utils.go) 

## <a name="Debug">func</a> [Debug](./utils.go#L20)
``` go
func Debug(ctx context.Context, args ...interface{})
```
Debug writes out a debug log to global logger

## <a name="Error">func</a> [Error](./utils.go#L35)
``` go
func Error(ctx context.Context, args ...interface{})
```
Error writes out an error log to global logger

## <a name="GetLevel">func</a> [GetLevel](./utils.go#L15)
``` go
func GetLevel() loggers.Level
```
GetLevel returns the current log level

## <a name="Info">func</a> [Info](./utils.go#L25)
``` go
func Info(ctx context.Context, args ...interface{})
```
Info writes out an info log to global logger

## <a name="SetLevel">func</a> [SetLevel](./utils.go#L10)
``` go
func SetLevel(level loggers.Level)
```
SetLevel sets the log level to filter logs

## <a name="SetLogger">func</a> [SetLogger](./log.go#L72)
``` go
func SetLogger(l Logger)
```
SetLogger sets the global logger

## <a name="Warn">func</a> [Warn](./utils.go#L30)
``` go
func Warn(ctx context.Context, args ...interface{})
```
Warn writes out a warning log to global logger

## <a name="Logger">type</a> [Logger](./types.go#L10-L16)
``` go
type Logger interface {
    loggers.BaseLogger
    Debug(ctx context.Context, args ...interface{})
    Info(ctx context.Context, args ...interface{})
    Warn(ctx context.Context, args ...interface{})
    Error(ctx context.Context, args ...interface{})
}
```
Logger interface is implemnted by the log implementation

### <a name="GetLogger">func</a> [GetLogger](./log.go#L62)
``` go
func GetLogger() Logger
```
GetLogger returns the global logger

### <a name="NewLogger">func</a> [NewLogger](./log.go#L55)
``` go
func NewLogger(log loggers.BaseLogger) Logger
```
NewLogger creates a new logger with a provided BaseLogger

- - -
Generated by [godoc2ghmd](https://github.com/GandalfUK/godoc2ghmd)
