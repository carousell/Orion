# spanutils
`import "github.com/carousell/Orion/utils/spanutils"`

* [Overview](#pkg-overview)
* [Imported Packages](#pkg-imports)
* [Index](#pkg-index)

## <a name="pkg-overview">Overview</a>

## <a name="pkg-imports">Imported Packages</a>

- [github.com/carousell/Orion/utils](./..)
- [github.com/carousell/Orion/utils/log](./../log)
- [github.com/newrelic/go-agent](https://godoc.org/github.com/newrelic/go-agent)
- [github.com/opentracing/opentracing-go](https://godoc.org/github.com/opentracing/opentracing-go)
- [github.com/opentracing/opentracing-go/ext](https://godoc.org/github.com/opentracing/opentracing-go/ext)
- [go.elastic.co/apm](https://godoc.org/go.elastic.co/apm)
- [google.golang.org/grpc/metadata](https://godoc.org/google.golang.org/grpc/metadata)

## <a name="pkg-index">Index</a>
* [func ClientSpan(operationName string, ctx context.Context) (context.Context, opentracing.Span)](#ClientSpan)
* [func GRPCTracingSpan(operationName string, ctx context.Context) context.Context](#GRPCTracingSpan)
* [type TracingSpan](#TracingSpan)
  * [func NewDatastoreSpan(ctx context.Context, name string, datastore string) (TracingSpan, context.Context)](#NewDatastoreSpan)
  * [func NewExternalSpan(ctx context.Context, name string, url string) (TracingSpan, context.Context)](#NewExternalSpan)
  * [func NewHTTPExternalSpan(ctx context.Context, name string, url string, hdr http.Header) (TracingSpan, context.Context)](#NewHTTPExternalSpan)
  * [func NewInternalSpan(ctx context.Context, name string) (TracingSpan, context.Context)](#NewInternalSpan)

#### <a name="pkg-files">Package files</a>
[spanutils.go](./spanutils.go) 

## <a name="ClientSpan">func</a> [ClientSpan](./spanutils.go#L192)
``` go
func ClientSpan(operationName string, ctx context.Context) (context.Context, opentracing.Span)
```
ClientSpan starts a new client span linked to the existing spans if any are found

## <a name="GRPCTracingSpan">func</a> [GRPCTracingSpan](./spanutils.go#L208)
``` go
func GRPCTracingSpan(operationName string, ctx context.Context) context.Context
```

## <a name="TracingSpan">type</a> [TracingSpan](./spanutils.go#L19-L25)
``` go
type TracingSpan interface {
    End()
    Finish()
    SetTag(key string, value interface{})
    SetQuery(query string)
    SetError(msg string)
}
```
TracingSpan defines an interface for implementing a tracing span

### <a name="NewDatastoreSpan">func</a> [NewDatastoreSpan](./spanutils.go#L107)
``` go
func NewDatastoreSpan(ctx context.Context, name string, datastore string) (TracingSpan, context.Context)
```
NewDatastoreSpan starts a span for tracing data store actions

### <a name="NewExternalSpan">func</a> [NewExternalSpan](./spanutils.go#L146)
``` go
func NewExternalSpan(ctx context.Context, name string, url string) (TracingSpan, context.Context)
```
NewExternalSpan starts a span for tracing external actions

### <a name="NewHTTPExternalSpan">func</a> [NewHTTPExternalSpan](./spanutils.go#L151)
``` go
func NewHTTPExternalSpan(ctx context.Context, name string, url string, hdr http.Header) (TracingSpan, context.Context)
```
NewHTTPExternalSpan starts a span for tracing external HTTP actions

### <a name="NewInternalSpan">func</a> [NewInternalSpan](./spanutils.go#L91)
``` go
func NewInternalSpan(ctx context.Context, name string) (TracingSpan, context.Context)
```
NewInternalSpan starts a span for tracing internal actions

- - -
Generated by [godoc2ghmd](https://github.com/GandalfUK/godoc2ghmd)